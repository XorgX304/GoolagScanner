<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>GoolagScanner: GoolagScanner::ScanMonitor Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<div class="nav">
<a class="el" href="namespace_goolag_scanner.html">GoolagScanner</a>::<a class="el" href="class_goolag_scanner_1_1_scan_monitor.html">ScanMonitor</a></div>
<h1>GoolagScanner::ScanMonitor Class Reference</h1><!-- doxytag: class="GoolagScanner::ScanMonitor" -->This class takes care of multiple, parallel scans. For this, it provides two data-structures, a list for the scans to do, and a queue for scans that finished - with all neccesary accessors to them. Takes care of synchronizing. An own thread, a watcher, handles the transport between the different pipelines. Running scans are encapsulated by an inner class. So it even would be possible to use different scan engines, and or course different scan providers in one parallised scan.  
<a href="#_details">More...</a>
<p>

<p>
<a href="class_goolag_scanner_1_1_scan_monitor-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#703a6e29d50ce75e142e022dd15dd0d8">ScanMonitor</a> (int MaxParallelScans)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor.  <a href="#703a6e29d50ce75e142e022dd15dd0d8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#de091c82597a7be16250c96bbf51e71f">Add</a> (<a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a> scanner)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a scanner for processing.  <a href="#de091c82597a7be16250c96bbf51e71f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#7107d62e9a8cbf210aecf6d382d4deb0">IsThreadAvail</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if a Thread is avail for scanning.  <a href="#7107d62e9a8cbf210aecf6d382d4deb0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#87b97a7089ea8b5811348cc4fe21d587">HasResults</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if results a available in the queue.  <a href="#87b97a7089ea8b5811348cc4fe21d587"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#0f0dd6b2255beb826a717349c0f61af6">HasPendingScans</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Checks if there are currently scans running or waiting for getting processed.  <a href="#0f0dd6b2255beb826a717349c0f61af6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#217565a9fe01d416b8e9a239701a9576">GetFinishedScanner</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the last finished <a class="el" href="class_goolag_scanner_1_1_scanner.html" title="Scanner, the complete process. Scans a Dork, independent of a IScanProvider, parses...">Scanner</a> from the queue.  <a href="#217565a9fe01d416b8e9a239701a9576"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#dfd06e6091387afb41e749b5bd87c11f">Watcher</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Worker. Takes care for finished or aborted scans, periodically.  <a href="#dfd06e6091387afb41e749b5bd87c11f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#6cda895c09362ea743b1d94eabc8095a">Dispose</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Somehow our desctructor. Stops all active scans, aborts Watcher thread.  <a href="#6cda895c09362ea743b1d94eabc8095a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#841ae3da5b76d77a71a604b1c7d6a9bb">StopAllActive</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stops all active and pending scans and sets their status to Aborted.  <a href="#841ae3da5b76d77a71a604b1c7d6a9bb"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#178ea31ac5177c30dff9675e57e61a73">MaxThreads</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Queue&lt; <a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#6c8cda0596007b2cd0176f168012516f">FinishedScans</a> = new Queue&lt;<a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a>&gt;()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">System.Object&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#5437524a10ec9c1c238a2ee0ec5724d6">FinishedScansLock</a> = new System.Object()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">List&lt; <a class="el" href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html">ActiveScan</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#0e0eb488a2f6caa9d69d05a77cc61064">ScansTodo</a> = new List&lt;<a class="el" href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html">ActiveScan</a>&gt;()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">System.Object&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#843f87c04a8301448deb3b9fa00f34a8">ScansTodoLock</a> = new System.Object()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">Thread&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#ce01bd1cec46529222d9f2f4539a8687">WatcherThread</a></td></tr>

<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html">ActiveScan</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A scan that is running or that has to be run.  <a href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html#_details">More...</a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class takes care of multiple, parallel scans. For this, it provides two data-structures, a list for the scans to do, and a queue for scans that finished - with all neccesary accessors to them. Takes care of synchronizing. An own thread, a watcher, handles the transport between the different pipelines. Running scans are encapsulated by an inner class. So it even would be possible to use different scan engines, and or course different scan providers in one parallised scan. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="703a6e29d50ce75e142e022dd15dd0d8"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::ScanMonitor" ref="703a6e29d50ce75e142e022dd15dd0d8" args="(int MaxParallelScans)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GoolagScanner::ScanMonitor::ScanMonitor           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>MaxParallelScans</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>MaxParallelScans</em>&nbsp;</td><td>Number of scans to run in parallel.</td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="de091c82597a7be16250c96bbf51e71f"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::Add" ref="de091c82597a7be16250c96bbf51e71f" args="(Scanner scanner)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GoolagScanner::ScanMonitor::Add           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a>&nbsp;</td>
          <td class="paramname"> <em>scanner</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a scanner for processing. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>scanner</em>&nbsp;</td><td>Instance of <a class="el" href="class_goolag_scanner_1_1_scanner.html" title="Scanner, the complete process. Scans a Dork, independent of a IScanProvider, parses...">Scanner</a> object.</td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7107d62e9a8cbf210aecf6d382d4deb0"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::IsThreadAvail" ref="7107d62e9a8cbf210aecf6d382d4deb0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GoolagScanner::ScanMonitor::IsThreadAvail           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if a Thread is avail for scanning. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True is a thread is avail.</dd></dl>

</div>
</div><p>
<a class="anchor" name="87b97a7089ea8b5811348cc4fe21d587"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::HasResults" ref="87b97a7089ea8b5811348cc4fe21d587" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GoolagScanner::ScanMonitor::HasResults           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if results a available in the queue. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if we have results.</dd></dl>

</div>
</div><p>
<a class="anchor" name="0f0dd6b2255beb826a717349c0f61af6"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::HasPendingScans" ref="0f0dd6b2255beb826a717349c0f61af6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GoolagScanner::ScanMonitor::HasPendingScans           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if there are currently scans running or waiting for getting processed. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if we have pending scans.</dd></dl>

</div>
</div><p>
<a class="anchor" name="217565a9fe01d416b8e9a239701a9576"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::GetFinishedScanner" ref="217565a9fe01d416b8e9a239701a9576" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a> GoolagScanner::ScanMonitor::GetFinishedScanner           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the last finished <a class="el" href="class_goolag_scanner_1_1_scanner.html" title="Scanner, the complete process. Scans a Dork, independent of a IScanProvider, parses...">Scanner</a> from the queue. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd></dd></dl>

</div>
</div><p>
<a class="anchor" name="dfd06e6091387afb41e749b5bd87c11f"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::Watcher" ref="dfd06e6091387afb41e749b5bd87c11f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GoolagScanner::ScanMonitor::Watcher           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Worker. Takes care for finished or aborted scans, periodically. 
<p>

</div>
</div><p>
<a class="anchor" name="6cda895c09362ea743b1d94eabc8095a"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::Dispose" ref="6cda895c09362ea743b1d94eabc8095a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GoolagScanner::ScanMonitor::Dispose           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Somehow our desctructor. Stops all active scans, aborts Watcher thread. 
<p>

</div>
</div><p>
<a class="anchor" name="841ae3da5b76d77a71a604b1c7d6a9bb"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::StopAllActive" ref="841ae3da5b76d77a71a604b1c7d6a9bb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GoolagScanner::ScanMonitor::StopAllActive           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops all active and pending scans and sets their status to Aborted. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The count of stopped scans.</dd></dl>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="178ea31ac5177c30dff9675e57e61a73"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::MaxThreads" ref="178ea31ac5177c30dff9675e57e61a73" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#178ea31ac5177c30dff9675e57e61a73">GoolagScanner::ScanMonitor::MaxThreads</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6c8cda0596007b2cd0176f168012516f"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::FinishedScans" ref="6c8cda0596007b2cd0176f168012516f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Queue&lt;<a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a>&gt; <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#6c8cda0596007b2cd0176f168012516f">GoolagScanner::ScanMonitor::FinishedScans</a> = new Queue&lt;<a class="el" href="class_goolag_scanner_1_1_scanner.html">Scanner</a>&gt;()<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5437524a10ec9c1c238a2ee0ec5724d6"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::FinishedScansLock" ref="5437524a10ec9c1c238a2ee0ec5724d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">System.Object <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#5437524a10ec9c1c238a2ee0ec5724d6">GoolagScanner::ScanMonitor::FinishedScansLock</a> = new System.Object()<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0e0eb488a2f6caa9d69d05a77cc61064"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::ScansTodo" ref="0e0eb488a2f6caa9d69d05a77cc61064" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">List&lt;<a class="el" href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html">ActiveScan</a>&gt; <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#0e0eb488a2f6caa9d69d05a77cc61064">GoolagScanner::ScanMonitor::ScansTodo</a> = new List&lt;<a class="el" href="class_goolag_scanner_1_1_scan_monitor_1_1_active_scan.html">ActiveScan</a>&gt;()<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="843f87c04a8301448deb3b9fa00f34a8"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::ScansTodoLock" ref="843f87c04a8301448deb3b9fa00f34a8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">System.Object <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#843f87c04a8301448deb3b9fa00f34a8">GoolagScanner::ScanMonitor::ScansTodoLock</a> = new System.Object()<code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ce01bd1cec46529222d9f2f4539a8687"></a><!-- doxytag: member="GoolagScanner::ScanMonitor::WatcherThread" ref="ce01bd1cec46529222d9f2f4539a8687" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Thread <a class="el" href="class_goolag_scanner_1_1_scan_monitor.html#ce01bd1cec46529222d9f2f4539a8687">GoolagScanner::ScanMonitor::WatcherThread</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>Z:/src/GoolagScanner/GoolagScanner/<a class="el" href="_scan_monitor_8cs.html">ScanMonitor.cs</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Feb 19 22:17:11 2008 for GoolagScanner by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
